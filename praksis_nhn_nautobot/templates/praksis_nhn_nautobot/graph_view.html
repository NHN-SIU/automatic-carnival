{% extends 'base.html' %} {% load static %} {% block content %}
<div class="row">
  <div class="col-md-12">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Sambandshierarki for: {{ object }}</h3>
      </div>
      <div class="panel-body">
        <div class="btn-group">
          <button class="btn btn-default" id="showHierarchy">
            Vis komplett hierarki
          </button>
          <button class="btn btn-primary" id="showParents">Vis foreldre</button>
          <button class="btn btn-default" id="showChildren">Vis barn</button>
        </div>
        <div class="btn-group pull-right" id="depth-controls">
          <span class="btn btn-default disabled">Dybde:</span>
          <button class="btn btn-default depth-btn" data-depth="1">1</button>
          <button class="btn btn-default depth-btn active" data-depth="2">
            2
          </button>
          <button class="btn btn-default depth-btn" data-depth="3">3</button>
        </div>
      </div>
      <div
        id="connection-graph"
        style="
          height: 600px;
          border: 1px solid #ddd;
          border-radius: 4px;
          padding: 10px;
          margin-top: 10px;
        "
      ></div>
      <div class="panel-footer">
        <div class="legend">
          <span
            class="badge"
            style="background-color: #3498db; margin-right: 10px"
            >Samband</span
          >
          <span
            class="badge"
            style="background-color: #2ecc71; margin-right: 10px"
            >Forelder</span
          >
          <span
            class="badge"
            style="background-color: #e74c3c; margin-right: 10px"
            >Barn</span
          >
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %} {% block javascript %} {{ block.super }}
<script src="https://d3js.org/d3.v6.min.js"></script>
<script src="{% static '/js/graph_view.js' %}"></script>
<script>
  document.addEventListener("DOMContentLoaded", function () {
    initGraphView({
      connectionId: "{{ object.pk }}",
      connectionName: "{{ object }}",
      sambandsnummer: "{{ object.sambandsnummer }}",
    });
  });
</script>
{% endblock %}
